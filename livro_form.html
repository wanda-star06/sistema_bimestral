{% extends "base.html" %}

{% block title %}{{ livro and 'Editar Livro' or 'Adicionar Livro' }}{% endblock %}

{% block header %}{{ livro and 'Editar Livro' or 'Adicionar Livro' }}{% endblock %}

{% block content %}
    <form action="" method="POST">
        <label for="titulo">Título:</label>
        <input type="text" name="titulo" id="titulo" value="{{ livro and livro.titulo or '' }}" required>
        <br>
        <label for="ano">Ano:</label>
        <input type="text" name="ano" id="ano" value="{{ livro and livro.ano or '' }}" required>
        <br>
        <label for="autores">Autores:</label>
        <select name="autores" id="autores" multiple>
            {% for autor in autores %}
            <option value="{{ autor.id }}" {% if livro and autor.id in livro_autores %}selected{% endif %}>{{ autor.nome }}</option>
            {% endfor %}
        </select>
        <br>
        <label for="generos">Gêneros:</label>
        <select name="generos" id="generos" multiple>
            {% for genero in generos %}
            <option value="{{ genero.id }}" {% if livro and genero.id in livro_generos %}selected{% endif %}>{{ genero.nome }}</option>
            {% endfor %}
        </select>
        <br>
        <button type="submit">{{ livro and 'Salvar' or 'Adicionar' }}</button>
    </form>
    <br>
    <a href="{{ url_for('listar_livros') }}">Retornar à Lista de Livros</a>
{% endblock %}
